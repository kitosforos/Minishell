/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ft_split22.c                                       :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: dcruz-na <dcruz-na@student.42.fr>          +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2023/03/06 21:11:41 by dcruz-na          #+#    #+#             */
/*   Updated: 2023/03/06 21:50:11 by dcruz-na         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "ft_split2.h"

int	init2(char *s, int *j, int *k, char c)
{
	while ((char)(s[*j]) == c)
		*k = ++(*j);
	if ((char)s[*j] == '"')
	{
		(*j)++;
		while ((char)s[*j] != '"')
			(*j)++;
		(*j)++;
		return (0);
	}
	else if ((char)s[*j] == '\'')
	{
		(*j)++;
		while ((char)s[*j] != '\'')
			(*j)++;
		(*j)++;
		return (0);
	}
	return (1);
}

void	init(char *s, int *j, int *k, char c)
{
	if (!init2(s, j, k, c))
		return ;
	if (s[(*j)] == '|' || s[(*j)] == '<' || s[(*j)] == '>')
	{
		if ((s[(*j)] == '<' && s[(*j) + 1] == '<')
			|| (s[(*j)] == '>' && s[(*j) + 1] == '>'))
			(*j)++;
		(*j)++;
		return ;
	}
	while ((char)(s[*j]) != c && s[*j] && s[*j] != '|'
		&& s[*j] != '<' && s[*j] != '>' && s[*j] != '\'' && s[*j] != '\"')
		(*j)++;
}
